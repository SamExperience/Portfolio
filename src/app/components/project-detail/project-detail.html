<div *ngIf="project$ | async as project; else notFound" class="project">
  <!-- HEADER -->
  <header class="project__header">
    <h1 class="project__title">{{ project.title }}</h1>
    <p class="project__header-description">{{ project.shortDescription }}</p>
    <div class="project__tags">
      <span *ngFor="let tag of project.projectTags" class="project__tag">{{ tag }}</span>
    </div>
  </header>

  <!-- CONTAINER -->
  <div class="container">
    <!-- INTRO / DESCRIPTION -->
    <section class="project__intro">
      <h2 class="project__section-title">Description</h2>
      <p class="project__intro-text">{{ project.description }}</p>
    </section>

    <!-- OBJECTIVES -->
    <section class="project__objectives">
      <h2 class="project__section-title">Objectives</h2>
      <ul class="project__objectives-list">
        <li *ngFor="let goal of project.objectif" class="project__objective-item">
          {{ goal }}
        </li>
      </ul>
    </section>

    <!-- TECHNOLOGIES USED -->
    <section class="project__technologies" *ngIf="project.techUsed && project.techUsed.length > 0">
      <h2 class="project__section-title">Technologies used</h2>

      <div class="project__tech-categories">
        <div *ngFor="let category of project.techUsed" class="project__tech-category">
          <h3 class="project__tech-category-title">{{ category.title }}</h3>
          <ul class="project__tech-list">
            <li *ngFor="let tech of category.names" class="project__tech-item">
              <span>{{ tech }}</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- GALLERIA -->
    <section class="project__gallery" *ngIf="project.imgURL && project.imgURL.length > 0">
      <h2 class="project__section-title">Galleria</h2>
      <div class="project__gallery-grid">
        <figure *ngFor="let image of project.imgURL" class="project__gallery-item">
          <img class="project__image" [src]="image.url" [alt]="image.title" />
        </figure>
      </div>
    </section>

    <!-- RISULTATI -->
    <section class="project__results" *ngIf="project.results">
      <h2 class="project__section-title">Risultati</h2>
      <p class="project__results-text">{{ project.results }}</p>
    </section>

    <!-- COSA HO IMPARATO -->
    <section class="project__learned" *ngIf="project.whatLearned && project.whatLearned.length > 0">
      <h2 class="project__section-title">Cosa ho imparato</h2>
      <ul>
        <li *ngFor="let lesson of project.whatLearned">{{ lesson }}</li>
      </ul>
    </section>
  </div>

  <!-- FOOTER -->
  <footer class="project__footer" *ngIf="project.personalData">
    <span class="project__footer-item"> Â© 2025 {{ project.personalData.name }} </span>
    <span class="project__footer-item">Swiss ðŸ‘‘ Made</span>
    <span class="project__footer-item">Developed with Angular 20</span>
  </footer>
</div>

<ng-template #notFound>
  <p>Progetto non trovato ðŸ˜ž</p>
</ng-template>
